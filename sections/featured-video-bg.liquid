{% comment %} Settings {% endcomment %}

{% assign video_url = section.settings.video_url %}
{% assign heading = section.settings.title  %}
{% assign subheading = section.settings.subheading  %}
{% assign marqueetext = section.settings.marqueetext  %}
{% assign text = section.settings.text %}
{% assign cta = section.settings.cta %}
{% assign link = section.settings.link %}
{% assign cta_2 = section.settings.cta_2 %}
{% assign link_2 = section.settings.link_2 %}
{% assign heading_size = section.settings.heading_size %}
{% assign text_size = section.settings.text_size %}
{% assign alignment = section.settings.alignment %}
{% assign contentWidth = section.settings.content_width %}
{% assign buttonPrimaryText = section.settings.cta_color %}
{% assign buttonPrimaryBackground = section.settings.cta_bg %}
{% assign buttonPrimaryBorder = section.settings.cta_border | default: 'transparent' %}
{% assign buttonSecondaryText = section.settings.cta_2_color %}
{% assign buttonSecondaryBackground = section.settings.cta_2_bg %}
{% assign buttonSecondaryBorder = section.settings.cta_2_border | default: 'transparent' %}
{% assign color_style = section.settings.color_style %}
{% unless section.settings.overlay_color == blank %}
	{% assign overlayColor = section.settings.overlay_color  %}
{% else %}
	{%- assign overlayColor = 'none' %}
{% endunless %}
{% assign overlayOpacity = section.settings.overlay_opacity | prepend: '.' %}

{% comment %} Section {% endcomment %}
<section class="video-bg-module container-wrap style-default hero-slide--{{ alignment }} hero-slide--style-{{ color_style }}" id="video-module-{{ section.id }}" data-section-id="{{ section.id }}" data-section-type="featured-video" data-height="{{ height }}">
	<div class="overlay" data-overlay-opacity="{{ overlayOpacity }}" style="background-color: {{ overlayColor }} !important; opacity: {{ overlayOpacity }};"></div>
 	<div class="slide-text">
      <div class="slide-inner">
						<div class="container">
							<div class="row row-lg">
								<div class="slide-content slide-content--{{ contentWidth }}">
									{%- if subheading != blank -%}
										<div class="slide-content__subheading subheading-text">{{ subheading }}</div>
									{%- endif -%}

									{%- if heading != blank -%}
										<h1 class="slide-content__heading size--{{ heading_size }}">{{ heading }}</h1>
									{%- endif -%}

									{%- if text != blank -%}
										<div class="slide-content__text size--{{ text_size }}">{{ text }}</div>
									{%- endif -%}

									{%- if cta != blank or cta_2 != blank -%}
										<div class="slide-content__buttons">
											{%- if cta != blank -%}
												<a tabindex="0" {% if link != blank %}href="{{ link }}"{% endif %} class="button button--{{ section.settings.button_size }} button--primary" aria-label = "{{ cta }}" title="{{ cta }}" style="color: {{ buttonPrimaryText }}; background-color: {{ buttonPrimaryBackground }}; border-color: {{ buttonPrimaryBorder }};">{{ cta }}</a>
											{%- endif -%}

											{%- if cta_2 != blank -%}
												<a tabindex="0" {% if link_2 != blank %}href="{{ link_2 }}"{% endif %} class="button button--{{ section.settings.button_size }} button--secondary" aria-label = "{{ cta_2 }}" title="{{ cta_2 }}" style="color: {{ buttonSecondaryText }}; background-color: {{ buttonSecondaryBackground }}; border-color: {{ buttonSecondaryBorder }};">{{ cta_2 }}</a>
											{%- endif -%}
										</div>
									{%- endif -%}
								</div>
							</div>
						</div>
					</div>
  	</div>
    <div class="videobg">
      <video autoplay muted loop playsinline class="hurabg-video desktop_only_home_video">
        <source src="{{ video_url }}" type="video/mp4">
      </video>
      
      <video autoplay muted loop playsinline class="hurabg-video mobile_only_home_video">
        <source src="{{ 'Flex_Campaign-Short.mp4' | asset_url }}" type="video/mp4">
      </video>
      
      
    </div>
</section>

{% comment %} Schema {% endcomment %}
{% schema %}
	{
		"name": "Video BG",
		"class":"featured-video background header--full",
		"settings": [
			{
				"id": "video_url",
				"type": "text",
				"label": "Video URL"
			},
			{
				"type": "select",
				"id": "alignment",
				"label": "Slide content alignment",
				"default": "center",
				"options": [
					{
						"value": "left",
						"label": "Left"
					},
					{
						"value": "center",
						"label": "Center"
					},
					{
						"value": "right",
						"label": "Right"
					},
					{
						"value": "bottom-left",
						"label": "Bottom left"
					},
					{
						"value": "bottom-right",
						"label": "Bottom right"
					}
				]
			},{
				"type": "select",
				"id": "content_width",
				"label": "Slide content width",
				"default": "one-half",
				"options": [
					{
						"value": "one-third",
						"label": "33%"
					},
					{
						"value": "one-half",
						"label": "50%"
					},
					{
						"value": "full-width",
						"label": "100%"
					}
				]
			},
			{
				"type": "select",
				"id": "color_style",
				"label": "Color",
				"default": "white",
				"options": [
					{
						"value": "white",
						"label": "Light"
					},
					{
						"value": "black",
						"label": "Dark"
					}
				]
			},
			{
				"type": "text",
				"id": "marqueetext",
				"label": "Marquee text"
			},
			{
				"type": "text",
				"id": "subheading",
				"label": "Subheading"
			},
			{
				"type": "text",
				"id": "title",
				"label": "Heading",
				"default": "Welcome to Modular"
			},
			{
				"type": "richtext",
				"id": "text",
				"label": "Text",
				"default": "<p>A unique layout with a striking design</p>"
			},
			{
				"type": "text",
				"id": "cta",
				"label": "Button label",
				"default": "Shop Now"
			},
			{
				"type": "url",
				"id": "link",
				"label": "Button link",
				"default":"/collections/all"
			},
			{
				"type": "text",
				"id": "cta_2",
				"label": "Second button label"
			},
			{
				"type": "url",
				"id": "link_2",
				"label": "Second button link"
			},
			{
				"type": "header",
				"content": "Typography"
			},
			{
				"type": "select",
				"id": "heading_size",
				"label": "Heading size",
				"default": "large",
				"options": [
					{ "label": "Small", "value": "small" },
					{ "label": "Normal", "value": "normal" },
					{ "label": "Large", "value": "large" },
					{ "label": "Extra large", "value": "xlarge" }
				]
			},
			{
				"type": "select",
				"id": "text_size",
				"label": "Text size",
				"default": "normal",
				"options": [
					{ "label": "Small", "value": "small" },
					{ "label": "Normal", "value": "normal" },
					{ "label": "Large", "value": "large" },
					{ "label": "Extra large", "value": "xlarge" }
				]
			},
			{
				"type": "header",
				"content": "Overlay"
			},
			{
				"type": "color",
				"id": "overlay_color",
				"label": "Color",
				"default": "#333"
			},
			{
				"type": "range",
				"id": "overlay_opacity",
				"label": "Opacity",
				"min":0,
				"max":95,
				"step":5,
				"unit":"%",
				"default": 30
			},
			{
				"type": "header",
				"content": "Buttons style"
			},
			{
				"type": "select",
				"id": "button_size",
				"label": "Size",
				"default": "normal",
				"options": [
					{ "label": "Normal", "value": "normal" },
					{ "label": "Large", "value": "large" }
				]
			},
			{
				"type": "header",
				"content": "Primary button colors"
			},
			{
				"type": "color",
				"id": "cta_color",
				"label": "Text",
				"default": "#ffffff"
			},
			{
				"type": "color",
				"id": "cta_bg",
				"label": "Background",
				"default": "#333333"
			},
			{
				"type": "color",
				"id": "cta_border",
				"label": "Border",
				"default": "transparent"
			},
			{
				"type": "header",
				"content": "Secondary button colors"
			},
			{
				"type": "color",
				"id": "cta_2_color",
				"label": "Text",
				"default": "#333333"
			},
			{
				"type": "color",
				"id": "cta_2_bg",
				"label": "Background",
				"default": "#ffffff"
			},
			{
				"type": "color",
				"id": "cta_2_border",
				"label": "Border",
				"default": "transparent"
			}
		],
		"presets": [
			{
				"category": "Video",
				"name": "Video BG"
			} 
		]
	}
{% endschema %}